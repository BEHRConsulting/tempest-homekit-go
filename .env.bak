# Tempest HomeKit Go - Environment Configuration
# Copy this file to .env and customize with your values
# Note: Command-line flags override environment variables

# ============================================================================
# WEATHERFLOW API CONFIGURATION
# ============================================================================

# WeatherFlow API Token (required for API-based weather data)
# Get your token from: https://tempestwx.com/settings/tokens
TEMPEST_TOKEN=b5cda683-f5d6-4a92-9ead-9168c238a23c

# Station Name (must match your station name in WeatherFlow)
TEMPEST_STATION_NAME=Chino Hills

# ============================================================================
# HOMEKIT CONFIGURATION
# ============================================================================

# HomeKit PIN for pairing (format: XXXXXXXX with no dashes)
HOMEKIT_PIN=00102003

# Sensors to enable in HomeKit (comma-separated)
# Options: temp, lux, humidity, uv, wind, rain, pressure, lightning
SENSORS=temp,lux,humidity,uv,pressure

# ============================================================================
# WEB CONSOLE CONFIGURATION
# ============================================================================

# Web server port
WEB_PORT=8080

# Units for temperature, wind, rain
# Options: imperial, metric, sae
UNITS=imperial

# Pressure units
# Options: inHg, mb, hpa
UNITS_PRESSURE=inHg

# ============================================================================
# DATA HISTORY CONFIGURATION
# ============================================================================

# Enable preloading historical observations on startup (true/false)
# When true the service will preload historical observations up to HISTORY_POINTS.
READ_HISTORY=true

# Number of data points to store in memory (min: 10, default: 1000)
HISTORY_POINTS=1000

# Hours of data to display in charts (0=all data, default: 24)
CHART_HISTORY_HOURS=24

# ============================================================================
# DATA SOURCE CONFIGURATION
# ============================================================================

# Enable UDP stream mode (receive data from local Tempest station)
# Options: true, false
UDP_STREAM=false

# Station URL override (optional, for custom data sources)
STATION_URL=

# Disable all internet access (offline mode, requires UDP_STREAM=true)
# Options: true, false
DISABLE_INTERNET=false

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Log level
# Options: error, info, debug
LOG_LEVEL=info

# Log filter - only show messages containing this string (optional)
LOG_FILTER=

# ============================================================================
# ALARM / NOTIFICATION CONFIGURATION
# ============================================================================

# Alarm configuration file or inline JSON
# Examples:
#   ALARMS=@/path/to/alarms.json
#   ALARMS='{"alarms":[...]}'
ALARMS=

# SMTP Email Configuration (for email notifications)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USERNAME=alerts@example.com
SMTP_PASSWORD=
SMTP_FROM_ADDRESS=alerts@example.com
SMTP_FROM_NAME=Tempest Weather Alerts
SMTP_USE_TLS=true

# Microsoft 365 OAuth2 (optional, for advanced email)
MS365_CLIENT_ID=
MS365_CLIENT_SECRET=
MS365_TENANT_ID=

# Twilio SMS Configuration
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FROM_NUMBER=+15555551234

# AWS SNS Configuration (alternative to Twilio)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
AWS_SNS_TOPIC_ARN=

# Syslog Configuration (optional)
SYSLOG_NETWORK=
SYSLOG_ADDRESS=
SYSLOG_PRIORITY=warning

# ============================================================================
# NOTES
# ============================================================================
# 
# Command-line flag equivalents:
#   --token              → TEMPEST_TOKEN
#   --station            → TEMPEST_STATION_NAME
#   --pin                → HOMEKIT_PIN
#   --sensors            → SENSORS
#   --web-port           → WEB_PORT
#   --units              → UNITS
#   --units-pressure     → UNITS_PRESSURE
#   --history            → HISTORY_POINTS
#   --chart-history      → CHART_HISTORY_HOURS
#   --udp-stream         → UDP_STREAM=true
#   --disable-internet   → DISABLE_INTERNET=true
#   --loglevel           → LOG_LEVEL
#   --logfilter          → LOG_FILTER
#
# Example Usage:
#   1. Copy this file: cp .env.example .env
#   2. Edit .env with your values
#   3. Run: ./tempest-homekit-go
#
# For UDP-only mode (no internet):
#   UDP_STREAM=true
#   DISABLE_INTERNET=true
#
# For minimal memory usage:
#   HISTORY_POINTS=100
#   CHART_HISTORY_HOURS=6
